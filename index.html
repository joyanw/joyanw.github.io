<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
  <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
  <title>正式页面</title>
  <style>
    html,
    body,

    #container {
      width: 100%;
      height: 100%;
      margin: 0px;
      padding: 0px;
    }

    .amap-ui-control-layer .iconfont {
      margin-right: 0px !important
    }
  </style>

</head>

<body>
  <!-- 地图容器 -->
  <div id="container"></div>

  <!-- 信息卡 -->

  <!-- 点击选卡 -->
  <div class="input-card" style="width: auto">
    <h4>控制地图显示范围</h4>
    <div class="input-item">
      <button class="btn" id="piexBtn">平移像素值：(50,100)</button>
    </div>
    <div class="input-item">
      <button class="btn" id="pantoBtn">地图中心点平移至：(116.405467,39.907761)</button>
    </div>
    <div class="input-item">
      <button class="btn" id="reset-bounds">指定地图显示范围</button>
    </div>
  </div>

  <!-- 加载地图JSAPI脚本 -->
  <script src="https://webapi.amap.com/maps?v=1.4.15&key=5d734c342da6acb3de3ebdc017ca2e32"></script>
  <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
  <!-- UI组件库 1.0 -->
  <script src="https://webapi.amap.com/ui/1.0/main.js?v=1.0.11"></script>

  <!-- 定义脚本 -->
  <script>
    //初始化地图
    var map = new AMap.Map('container', {
      zoom: 17, //初始化地图层级
      center: [116.397428, 39.90923], //初始化地图中心点
      pitch: 0, //仰角
      rotation: 0, //旋转视角
      expandZoomRange: true, //缩放控制
      zooms: [3, 20],
      viewMode: '3D', //开启3D视图,默认为关闭
      buildingAnimation: true, //楼块出现是否带动画
      showIndoorMap: false, // 是否在有矢量底图的时候自动展示室内地图，PC默认true,移动端默认false
      doubleClickZoom: true, // 地图是否可通过双击鼠标放大地图，默认为true
      resizeEnable: true, //是否监控地图容器尺寸变化，默认值为false
      rotateEnable: true,
      pitchEnable: true,
      //zoomEnable: true, //地图是否可缩放，默认值为true
      features: ['bg', 'road', 'point'],
      mapStyle: 'amap://styles/light',
    });

    //其他插件载入
    /*AMap.plugin([
        'AMap.ToolBar',//工具条
        'AMap.Scale',//比例尺
        'AMap.OverView',//鹰眼控件
        'AMap.MapType',//卫星切换控件
        'AMap.Geolocation',//定位控件
        'AMap.ControlBar', //3D 罗盘控制
      ],
      function() {
        //其他控件添加
        map.addControl(new AMap.ToolBar());//工具条
        map.addControl(new AMap.Scale());//比例尺
        map.addControl(new AMap.OverView({isOpen:false}));//鹰眼
        map.addControl(new AMap.MapType());//图层切换
        map.addControl(new AMap.Geolocation());//定位
        map.addControl(new AMap.ControlBar({ // 添加 3D 罗盘控制
        showZoomBar: false, //缩放按钮
        showControlButton: true, //罗盘
        position: { //位置
        right: '10px',
        top: '10px',
        }
        }));
      });*/

    //载入UI控件，参考：https://lbs.amap.com/api/javascript-api/reference-amap-ui/control/basiccontrol
    AMapUI.loadUI(['control/BasicControl'], function(BasicControl) {
      //图层切换控件
      map.addControl(new BasicControl.LayerSwitcher({
        theme: 'light',
        position: {
          left: '10px',
          top: '10px',
        }, //图标位置
        //自定义基础图层
        baseLayers: [
          //第一层基础图层
          {
            enable: true,
            id: 'tile', //图层id，需唯一
            name: '标准图', //显示名称，html
            layer: new AMap.TileLayer({
              zooms: [10, 20],
            })
          },
          //第二层基础图层
          {
            id: 'satellite',
            name: '卫星图',
            layer: new AMap.TileLayer.Satellite({
              zooms: [10, 20],
            })
          }
        ],

        //自定义覆盖图层
        overlayLayers: [
          //第一层覆盖图层
          {
            enable: true,
            id: 'buildings',
            name: '建筑',
            layer: new AMap.Buildings({
              zooms: [15, 20],
              //opacity: 0.8, //建筑透明度
              //heightFactor: 2 //N倍于默认高度，3D下有效
            })
          },

          //第二层覆盖图层
          {
            id: 'roadNet',
            name: '路网',
            layer: new AMap.TileLayer.RoadNet()
          },

          //第三层覆盖图层
          {
            id: 'traffic',
            name: '路况',
            layer: new AMap.TileLayer.Traffic()
          },

          //第三层覆盖图层
          {
            id: 'points',
            name: '标注',
            layer: new AMap.TileLayer.Traffic()
          },
        ]
      }));
    });

    //点击选卡
    AMap.event.addDomListener(document.getElementById('piexBtn'), 'click', function() {
      map.panBy(50, 100);
    }); //平移到，绑定按钮事件
    AMap.event.addDomListener(document.getElementById('pantoBtn'), 'click', function() {
      map.panTo([116.405467, 39.907761]);
    }); //移动到，绑定按钮事件
    AMap.event.addDomListener(document.getElementById('reset-bounds'), 'click', function() {
      var mybounds = new AMap.Bounds([116.109266, 39.948756], [116.104835, 39.94503]);
      map.setBounds(mybounds);
      log.success("成功移动至指定范围"); //弹窗提示
    }); //缩放到，绑定按钮事件，获取视野：https://lbs.amap.com/api/javascript-api/example/map/map-bounds
  </script>
</body>

</html>
